{"ast":null,"code":"import _classCallCheck from\"/Users/anastasiavolzina/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/anastasiavolzina/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";export var Api=/*#__PURE__*/function(){function Api(token){_classCallCheck(this,Api);this._token=token;this._headers={'Content-Type':'application/json',authorization:this._token};}_createClass(Api,[{key:\"getUserData\",value:function getUserData(){return fetch('https://nomoreparties.co/v1/cohort-43/users/me',{headers:this._headers,method:'GET'}).then(function(res){if(res.ok){return res.json();}return Promise.reject('Возникла ошибка');});}},{key:\"updateUserData\",value:function updateUserData(user){var body={name:user.name,about:user.about};return fetch('https://mesto.nomoreparties.co/v1/cohort-43/users/me',{headers:this._headers,method:'PATCH',body:JSON.stringify(body)}).then(function(res){if(res.ok){return res.json();}return Promise.reject('Возникла ошибка');});}},{key:\"getCardsData\",value:function getCardsData(){return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards',{headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject('Возникла ошибка');});}},{key:\"addCard\",value:function addCard(card){var body={name:card.name,link:card.link};return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards',{headers:this._headers,method:'POST',body:JSON.stringify(body)}).then(function(res){if(res.ok){return res.json();}return Promise.reject('Возникла ошибка');});}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards/'+cardId,{headers:this._headers,method:'DELETE'}).then(function(res){if(res.ok){return res.json();}return Promise.reject('Возникла ошибка');});}},{key:\"updateLike\",value:function updateLike(cardId,method){return fetch(\"https://mesto.nomoreparties.co/v1/cohort-43/cards/\".concat(cardId,\"/likes\"),{headers:this._headers,method:method}).then(function(res){if(res.ok){return res.json();}return Promise.reject('Возникла ошибка');});}},{key:\"updateAvatar\",value:function updateAvatar(user){var body={avatar:user.avatar};return fetch('https://mesto.nomoreparties.co/v1/cohort-43/users/me/avatar',{headers:this._headers,method:'PATCH',body:JSON.stringify(body)}).then(function(res){if(res.ok){return res.json();}return Promise.reject('Возникла ошибка');});}}]);return Api;}();export var api=new Api('8e904e2d-1e9e-4822-a1dc-ac070e02dd13');","map":{"version":3,"names":["Api","token","_token","_headers","authorization","fetch","headers","method","then","res","ok","json","Promise","reject","user","body","name","about","JSON","stringify","card","link","cardId","avatar","api"],"sources":["/Users/anastasiavolzina/Desktop/dev/mesto-react/src/utils/api.js"],"sourcesContent":["export class Api{\n    constructor(token){\n        this._token = token;\n        this._headers = {\n            'Content-Type': 'application/json',\n            authorization: this._token\n        }\n    }\n    getUserData(){\n        return fetch('https://nomoreparties.co/v1/cohort-43/users/me',{\n            headers: this._headers,\n            method: 'GET'\n        })\n        .then((res) =>{\n           if(res.ok){\n                return res.json()\n           }\n           return Promise.reject('Возникла ошибка') \n        }) \n      \n    }\n\n    updateUserData(user){\n        const body = {\n            name: user.name,\n            about: user.about\n        };\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-43/users/me',{\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify(body),\n        })\n        .then((res) =>{\n            if(res.ok){\n                 return res.json()\n            }\n            return Promise.reject('Возникла ошибка') \n         }) \n    }\n\n    getCardsData(){\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards',{\n            headers: this._headers,\n        })\n        .then((res) =>{\n           if(res.ok){\n                return res.json()\n           }\n           return Promise.reject('Возникла ошибка') \n        }) \n      \n    }\n\n    addCard(card){\n        const body = {\n            name: card.name,\n            link: card.link\n        };\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards',{\n            headers: this._headers,\n            method: 'POST',\n            body: JSON.stringify(body),\n        })\n        .then((res) =>{\n            if(res.ok){\n                 return res.json()\n            }\n            return Promise.reject('Возникла ошибка') \n         }) \n    }\n\n    deleteCard(cardId){\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards/'+ cardId,{\n            headers: this._headers,\n            method: 'DELETE'\n        })\n        .then((res) =>{\n           if(res.ok){\n                return res.json()\n           }\n           return Promise.reject('Возникла ошибка') \n        }) \n    }\n\n    updateLike(cardId, method){\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-43/cards/${cardId}/likes`,{\n            headers: this._headers,\n            method,\n        })\n        .then((res) =>{\n            if(res.ok){\n                 return res.json()\n            }\n            return Promise.reject('Возникла ошибка') \n         }) \n    }\n\n    updateAvatar(user){\n        const body = {\n            avatar: user.avatar\n        };\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-43/users/me/avatar' ,{\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify(body),\n        })\n        .then((res) =>{\n            if(res.ok){\n                 return res.json()\n            }\n            return Promise.reject('Возникла ошибка') \n         }) \n    }\n\n\n}\n\nexport const api = new Api('8e904e2d-1e9e-4822-a1dc-ac070e02dd13');"],"mappings":"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"},"metadata":{},"sourceType":"module"}