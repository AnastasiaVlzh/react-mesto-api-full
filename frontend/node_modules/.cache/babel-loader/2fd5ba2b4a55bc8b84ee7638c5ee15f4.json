{"ast":null,"code":"export class Api {\n  constructor(url) {\n    this._URL = url; // this._token = token;\n\n    this._headers = {\n      'Content-Type': 'application/json',\n      authorization: this._authorization,\n      credentials: 'include'\n    };\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getUserData() {\n    return fetch(`${this._URL}/users/me`, {\n      headers: this._headers,\n      method: 'GET' //credentials: 'include',\n\n    }).then(this._checkResponse);\n  }\n\n  updateUserData(user) {\n    const body = {\n      name: user.name,\n      about: user.about\n    };\n    return fetch(`${this._URL}/users/me`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(body)\n    }).then(this._checkResponse);\n  }\n\n  getCardsData() {\n    return fetch(`${this._URL}/cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  addCard(card) {\n    const body = {\n      name: card.name,\n      link: card.link\n    };\n    return fetch(`${this._URL}/cards`, {\n      headers: this._headers,\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._URL}cards/` + cardId, {\n      headers: this._headers,\n      method: 'DELETE'\n    }).then(this._checkResponse);\n  }\n\n  updateLike(cardId, method) {\n    return fetch(`${this._URL}/cards/${cardId}/likes`, {\n      headers: this._headers,\n      method\n    }).then(this._checkResponse);\n  }\n\n  updateAvatar(user) {\n    const body = {\n      avatar: user.avatar\n    };\n    return fetch(`${this._URL}/users/me/avatar`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(body)\n    }).then(this._checkResponse);\n  }\n\n}\nexport const api = new Api('http://localhost:4000');","map":{"version":3,"names":["Api","constructor","url","_URL","_headers","authorization","_authorization","credentials","_checkResponse","res","ok","json","Promise","reject","status","getUserData","fetch","headers","method","then","updateUserData","user","body","name","about","JSON","stringify","getCardsData","addCard","card","link","deleteCard","cardId","updateLike","updateAvatar","avatar","api"],"sources":["/Users/anastasiavolzina/Desktop/dev/react-mesto-api-full/frontend/src/utils/api.js"],"sourcesContent":["export class Api{\n    constructor(url){\n        this._URL = url;\n        // this._token = token;\n        this._headers = {\n            'Content-Type': 'application/json',\n            authorization: this._authorization,\n            credentials: 'include'\n        }\n    }\n\n    _checkResponse(res){\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка ${res.status}`);\n        }\n\n    getUserData(){\n        return fetch(`${this._URL}/users/me`,{\n            headers: this._headers,\n            method: 'GET',\n            //credentials: 'include',\n        })\n        .then(this._checkResponse) \n    }\n\n\n\n    updateUserData(user){\n        const body = {\n            name: user.name,\n            about: user.about\n        };\n        return fetch(`${this._URL}/users/me`,{\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify(body),\n        })\n        .then(this._checkResponse) \n    }\n\n    getCardsData(){\n        return fetch(`${this._URL}/cards`,{\n            headers: this._headers,\n        })\n        .then(this._checkResponse) \n      \n    }\n\n    addCard(card){\n        const body = {\n            name: card.name,\n            link: card.link\n        };\n        return fetch(`${this._URL}/cards`,{\n            headers: this._headers,\n            method: 'POST',\n            body: JSON.stringify(body),\n        })\n        .then(this._checkResponse) \n    }\n\n    deleteCard(cardId){\n        return fetch(`${this._URL}cards/`+ cardId,{\n            headers: this._headers,\n            method: 'DELETE'\n        })\n        .then(this._checkResponse) \n    }\n\n    updateLike(cardId, method){\n        return fetch(`${this._URL}/cards/${cardId}/likes`,{\n            headers: this._headers,\n            method,\n        })\n        .then(this._checkResponse) \n    }\n\n    updateAvatar(user){\n        const body = {\n            avatar: user.avatar\n        };\n        return fetch(`${this._URL}/users/me/avatar` ,{\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify(body),\n        })\n        .then(this._checkResponse) \n    }\n\n\n}\n\nexport const api = new Api('http://localhost:4000');"],"mappings":"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"},"metadata":{},"sourceType":"module"}