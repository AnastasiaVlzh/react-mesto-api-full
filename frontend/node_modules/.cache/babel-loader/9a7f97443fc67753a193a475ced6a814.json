{"ast":null,"code":"export class Api {\n  constructor(token) {\n    this._token = token;\n    this._headers = {\n      'Content-Type': 'application/json',\n      authorization: this._token\n    };\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getUserData() {\n    return fetch('https://nomoreparties.co/v1/cohort-43/users/me', {\n      headers: this._headers,\n      method: 'GET'\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject('Возникла ошибка');\n    });\n  }\n\n  updateUserData(user) {\n    const body = {\n      name: user.name,\n      about: user.about\n    };\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-43/users/me', {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(body)\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject('Возникла ошибка');\n    });\n  }\n\n  getCardsData() {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards', {\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject('Возникла ошибка');\n    });\n  }\n\n  addCard(card) {\n    const body = {\n      name: card.name,\n      link: card.link\n    };\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards', {\n      headers: this._headers,\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject('Возникла ошибка');\n    });\n  }\n\n  deleteCard(cardId) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards/' + cardId, {\n      headers: this._headers,\n      method: 'DELETE'\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject('Возникла ошибка');\n    });\n  }\n\n  updateLike(cardId, method) {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-43/cards/${cardId}/likes`, {\n      headers: this._headers,\n      method\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject('Возникла ошибка');\n    });\n  }\n\n  updateAvatar(user) {\n    const body = {\n      avatar: user.avatar\n    };\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-43/users/me/avatar', {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(body)\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject('Возникла ошибка');\n    });\n  }\n\n}\nexport const api = new Api('8e904e2d-1e9e-4822-a1dc-ac070e02dd13');","map":{"version":3,"names":["Api","constructor","token","_token","_headers","authorization","_checkResponse","res","ok","json","Promise","reject","status","getUserData","fetch","headers","method","then","updateUserData","user","body","name","about","JSON","stringify","getCardsData","addCard","card","link","deleteCard","cardId","updateLike","updateAvatar","avatar","api"],"sources":["/Users/anastasiavolzina/Desktop/dev/mesto-react/src/utils/api.js"],"sourcesContent":["export class Api{\n    constructor(token){\n        this._token = token;\n        this._headers = {\n            'Content-Type': 'application/json',\n            authorization: this._token\n        }\n    }\n\n    _checkResponse(res){\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка ${res.status}`);\n        }\n\n    getUserData(){\n        return fetch('https://nomoreparties.co/v1/cohort-43/users/me',{\n            headers: this._headers,\n            method: 'GET'\n        })\n        .then((res) =>{\n           if(res.ok){\n                return res.json()\n           }\n           return Promise.reject('Возникла ошибка') \n        }) \n      \n    }\n\n    updateUserData(user){\n        const body = {\n            name: user.name,\n            about: user.about\n        };\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-43/users/me',{\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify(body),\n        })\n        .then((res) =>{\n            if(res.ok){\n                 return res.json()\n            }\n            return Promise.reject('Возникла ошибка') \n         }) \n    }\n\n    getCardsData(){\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards',{\n            headers: this._headers,\n        })\n        .then((res) =>{\n           if(res.ok){\n                return res.json()\n           }\n           return Promise.reject('Возникла ошибка') \n        }) \n      \n    }\n\n    addCard(card){\n        const body = {\n            name: card.name,\n            link: card.link\n        };\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards',{\n            headers: this._headers,\n            method: 'POST',\n            body: JSON.stringify(body),\n        })\n        .then((res) =>{\n            if(res.ok){\n                 return res.json()\n            }\n            return Promise.reject('Возникла ошибка') \n         }) \n    }\n\n    deleteCard(cardId){\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-43/cards/'+ cardId,{\n            headers: this._headers,\n            method: 'DELETE'\n        })\n        .then((res) =>{\n           if(res.ok){\n                return res.json()\n           }\n           return Promise.reject('Возникла ошибка') \n        }) \n    }\n\n    updateLike(cardId, method){\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-43/cards/${cardId}/likes`,{\n            headers: this._headers,\n            method,\n        })\n        .then((res) =>{\n            if(res.ok){\n                 return res.json()\n            }\n            return Promise.reject('Возникла ошибка') \n         }) \n    }\n\n    updateAvatar(user){\n        const body = {\n            avatar: user.avatar\n        };\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-43/users/me/avatar' ,{\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify(body),\n        })\n        .then((res) =>{\n            if(res.ok){\n                 return res.json()\n            }\n            return Promise.reject('Возникла ошибка') \n         }) \n    }\n\n\n}\n\nexport const api = new Api('8e904e2d-1e9e-4822-a1dc-ac070e02dd13');"],"mappings":"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"},"metadata":{},"sourceType":"module"}