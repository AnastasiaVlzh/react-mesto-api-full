{"ast":null,"code":"export const BASE_URL = 'http://localhost:4000';\nexport class Api {\n  constructor(url, authorisation) {\n    //this._token = token;\n    this._headers = {\n      'Content-Type': 'application/json' //authorization: this._token\n\n    };\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getUserData() {\n    return fetch(`${BASE_URL}/users/me`, {\n      headers: this._headers,\n      method: 'GET'\n    }).then(this._checkResponse);\n  }\n\n  updateUserData(user) {\n    const body = {\n      name: user.name,\n      about: user.about\n    };\n    return fetch(`${BASE_URL}/users/me`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(body)\n    }).then(this._checkResponse);\n  }\n\n  getCardsData() {\n    return fetch(`${BASE_URL}/cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  addCard(card) {\n    const body = {\n      name: card.name,\n      link: card.link\n    };\n    return fetch(`${BASE_URL}/cards`, {\n      headers: this._headers,\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${BASE_URL}cards/` + cardId, {\n      headers: this._headers,\n      method: 'DELETE'\n    }).then(this._checkResponse);\n  }\n\n  updateLike(cardId, method) {\n    return fetch(`${BASE_URL}/cards/${cardId}/likes`, {\n      headers: this._headers,\n      method\n    }).then(this._checkResponse);\n  }\n\n  updateAvatar(user) {\n    const body = {\n      avatar: user.avatar\n    };\n    return fetch(`${BASE_URL}/users/me/avatar`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(body)\n    }).then(this._checkResponse);\n  }\n\n}\nexport const api = new Api('http://localhost:4000');","map":{"version":3,"names":["BASE_URL","Api","constructor","url","authorisation","_headers","_checkResponse","res","ok","json","Promise","reject","status","getUserData","fetch","headers","method","then","updateUserData","user","body","name","about","JSON","stringify","getCardsData","addCard","card","link","deleteCard","cardId","updateLike","updateAvatar","avatar","api"],"sources":["/Users/anastasiavolzina/Desktop/dev/react-mesto-api-full/frontend/src/utils/api.js"],"sourcesContent":["export const BASE_URL = 'http://localhost:4000';\nexport class Api{\n    constructor(url,authorisation){\n        //this._token = token;\n        this._headers = {\n            'Content-Type': 'application/json',\n            //authorization: this._token\n        }\n    }\n\n    _checkResponse(res){\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка ${res.status}`);\n        }\n\n    getUserData(){\n        return fetch(`${BASE_URL}/users/me`,{\n            headers: this._headers,\n            method: 'GET'\n        })\n        .then(this._checkResponse) \n    }\n\n\n\n    updateUserData(user){\n        const body = {\n            name: user.name,\n            about: user.about\n        };\n        return fetch(`${BASE_URL}/users/me`,{\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify(body),\n        })\n        .then(this._checkResponse) \n    }\n\n    getCardsData(){\n        return fetch(`${BASE_URL}/cards`,{\n            headers: this._headers,\n        })\n        .then(this._checkResponse) \n      \n    }\n\n    addCard(card){\n        const body = {\n            name: card.name,\n            link: card.link\n        };\n        return fetch(`${BASE_URL}/cards`,{\n            headers: this._headers,\n            method: 'POST',\n            body: JSON.stringify(body),\n        })\n        .then(this._checkResponse) \n    }\n\n    deleteCard(cardId){\n        return fetch(`${BASE_URL}cards/`+ cardId,{\n            headers: this._headers,\n            method: 'DELETE'\n        })\n        .then(this._checkResponse) \n    }\n\n    updateLike(cardId, method){\n        return fetch(`${BASE_URL}/cards/${cardId}/likes`,{\n            headers: this._headers,\n            method,\n        })\n        .then(this._checkResponse) \n    }\n\n    updateAvatar(user){\n        const body = {\n            avatar: user.avatar\n        };\n        return fetch(`${BASE_URL}/users/me/avatar` ,{\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify(body),\n        })\n        .then(this._checkResponse) \n    }\n\n\n}\n\nexport const api = new Api('http://localhost:4000');"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,uBAAjB;AACP,OAAO,MAAMC,GAAN,CAAS;EACZC,WAAW,CAACC,GAAD,EAAKC,aAAL,EAAmB;IAC1B;IACA,KAAKC,QAAL,GAAgB;MACZ,gBAAgB,kBADJ,CAEZ;;IAFY,CAAhB;EAIH;;EAEDC,cAAc,CAACC,GAAD,EAAK;IACX,IAAIA,GAAG,CAACC,EAAR,EAAY;MACR,OAAOD,GAAG,CAACE,IAAJ,EAAP;IACH;;IACD,OAAOC,OAAO,CAACC,MAAR,CAAgB,UAASJ,GAAG,CAACK,MAAO,EAApC,CAAP;EACH;;EAELC,WAAW,GAAE;IACT,OAAOC,KAAK,CAAE,GAAEd,QAAS,WAAb,EAAwB;MAChCe,OAAO,EAAE,KAAKV,QADkB;MAEhCW,MAAM,EAAE;IAFwB,CAAxB,CAAL,CAINC,IAJM,CAID,KAAKX,cAJJ,CAAP;EAKH;;EAIDY,cAAc,CAACC,IAAD,EAAM;IAChB,MAAMC,IAAI,GAAG;MACTC,IAAI,EAAEF,IAAI,CAACE,IADF;MAETC,KAAK,EAAEH,IAAI,CAACG;IAFH,CAAb;IAIA,OAAOR,KAAK,CAAE,GAAEd,QAAS,WAAb,EAAwB;MAChCe,OAAO,EAAE,KAAKV,QADkB;MAEhCW,MAAM,EAAE,OAFwB;MAGhCI,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;IAH0B,CAAxB,CAAL,CAKNH,IALM,CAKD,KAAKX,cALJ,CAAP;EAMH;;EAEDmB,YAAY,GAAE;IACV,OAAOX,KAAK,CAAE,GAAEd,QAAS,QAAb,EAAqB;MAC7Be,OAAO,EAAE,KAAKV;IADe,CAArB,CAAL,CAGNY,IAHM,CAGD,KAAKX,cAHJ,CAAP;EAKH;;EAEDoB,OAAO,CAACC,IAAD,EAAM;IACT,MAAMP,IAAI,GAAG;MACTC,IAAI,EAAEM,IAAI,CAACN,IADF;MAETO,IAAI,EAAED,IAAI,CAACC;IAFF,CAAb;IAIA,OAAOd,KAAK,CAAE,GAAEd,QAAS,QAAb,EAAqB;MAC7Be,OAAO,EAAE,KAAKV,QADe;MAE7BW,MAAM,EAAE,MAFqB;MAG7BI,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;IAHuB,CAArB,CAAL,CAKNH,IALM,CAKD,KAAKX,cALJ,CAAP;EAMH;;EAEDuB,UAAU,CAACC,MAAD,EAAQ;IACd,OAAOhB,KAAK,CAAE,GAAEd,QAAS,QAAZ,GAAqB8B,MAAtB,EAA6B;MACrCf,OAAO,EAAE,KAAKV,QADuB;MAErCW,MAAM,EAAE;IAF6B,CAA7B,CAAL,CAINC,IAJM,CAID,KAAKX,cAJJ,CAAP;EAKH;;EAEDyB,UAAU,CAACD,MAAD,EAASd,MAAT,EAAgB;IACtB,OAAOF,KAAK,CAAE,GAAEd,QAAS,UAAS8B,MAAO,QAA7B,EAAqC;MAC7Cf,OAAO,EAAE,KAAKV,QAD+B;MAE7CW;IAF6C,CAArC,CAAL,CAINC,IAJM,CAID,KAAKX,cAJJ,CAAP;EAKH;;EAED0B,YAAY,CAACb,IAAD,EAAM;IACd,MAAMC,IAAI,GAAG;MACTa,MAAM,EAAEd,IAAI,CAACc;IADJ,CAAb;IAGA,OAAOnB,KAAK,CAAE,GAAEd,QAAS,kBAAb,EAAgC;MACxCe,OAAO,EAAE,KAAKV,QAD0B;MAExCW,MAAM,EAAE,OAFgC;MAGxCI,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;IAHkC,CAAhC,CAAL,CAKNH,IALM,CAKD,KAAKX,cALJ,CAAP;EAMH;;AAtFW;AA2FhB,OAAO,MAAM4B,GAAG,GAAG,IAAIjC,GAAJ,CAAQ,uBAAR,CAAZ"},"metadata":{},"sourceType":"module"}